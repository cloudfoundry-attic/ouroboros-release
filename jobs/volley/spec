---
name: volley
templates:
  volley_ctl.erb: bin/volley_ctl

packages:
- loggregator_common
- volley

consumes:
- name: syslogr
  type: syslogr
  properties:
    syslogr.port

properties:
  volley.firehose_count:
    description: "Number of Firehose connections to open"
    default: 10
  volley.stream_count:
    description: "Number of Stream connections to open. AppID must be set"
  volley.syslog_drains:
    description: "Number of syslog drains to advertise in etcd"
    default: 0
  etcd.machines:
    description: "The addresses of etcd's nodes"
  volley.tc_addresses:
    description: "IPs of the TrafficControllers to connect to"
  volley.auth_token:
    description: "AuthToken used to confirm access to logs"
    default: ""
  volley.subscription_id:
    description: "Firehose subscription id"
    default: ""
  volley.receive_delay:
    description: "Range of durations to delay each time a message is received"
    default: "1ms-100ms"
  volley.kill_delay:
    description: "Range of durations to delay before killing the process with SIGKILL"
    default: "1m-1h"
  volley.metron_port:
    description: "The port of the local metron agent"
    default: "3457"
  volley.metric_batch_interval:
    description: "The interval for metric batching"
    default: "5s"
