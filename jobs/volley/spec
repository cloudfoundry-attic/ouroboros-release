---
name: volley
templates:
  volley_ctl.erb: bin/volley_ctl

packages:
- common
- volley

consumes:
- name: syslogr
  type: syslogr
  optional: true
  properties:
    syslogr.port

properties:
  volley.firehose_count:
    description: "Number of Firehose connections to open"
    default: 10
  volley.stream_count:
    description: "Number of Stream connections to open. AppID must be set"
  volley.recent_log_count:
    description: "Number of Recentlog connections to open. AppID must be set"
  volley.container_metric_count:
    description: "Number of ContainerMetric connections to open. AppID must be set"
  volley.syslog_drains:
    description: "Number of syslog drains to advertise in etcd"
    default: 0
  volley.auth_token:
    description: "AuthToken used to confirm access to logs"
    default: ""
  volley.subscription_id:
    description: "Firehose subscription id"
    default: ""
  volley.receive_delay:
    description: "Range of durations to delay each time a message is received"
    default: "1ms-100ms"
  volley.async_request_delay:
    description: "Range of durations to delay for each async request"
    default: "1ms-1000ms"
  volley.kill_delay:
    description: "Range of durations to delay before killing the process with SIGKILL"
    default: "1m-1h"
  volley.metric_batch_interval:
    description: "The interval for metric batching"
    default: "5s"
  trafficcontroller.ips:
    description: "The traffic controller IPs"
  trafficcontroller.outgoing_dropsonde_port:
    description: "The port to connect to traffic controller"
    default: 8081

  etcd.machines:
    description: "The addresses of etcd's nodes"

  metron_agent.listening_port:
    description: "The port of the local metron agent"
    default: "3457"
